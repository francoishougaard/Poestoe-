// This file contains valuable monkeypatches to Node core.

const ORIGINAL = Symbol();

module.exports = [{
  file: 'url',
  patch: (url) => {
    url.format = Object.assign(() => 'patched-value', { [ORIGINAL]: url.format });
  },
  unpatch: (url) => {
    if (url.format[ORIGINAL]) {
      url.format = url.format[ORIGINAL];
    }
  }
}, {
  file: 'crypto',
  unpatch: () => {
    // forgot to patch
  }
}, {
  file: 'os',
  patch: () => {},
  intercept: () => {
    // why not have both
  }
}, {
  file: 'dns',
  patch: () => {}
}, {
  file: 'dns',
  patch: () => {
    // one patch was not enough
  }
}];
